{
    "openapi": "3.0.0",
    "info": {
        "title": "Propolis Fulfillment API",
        "description": "Dokumentasi resmi layanan backend Propolis. Semua response menggunakan format {success, data, message}.",
        "contact": {
            "name": "Tim Propolis",
            "email": "support@example.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000/api",
            "description": "API Root"
        },
        {
            "url": "http://localhost:8000/api"
        }
    ],
    "paths": {
        "/admin/dashboard/stats": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Get admin dashboard statistics",
                "operationId": "8b290b1eef29c43247c48b5041a16700",
                "responses": {
                    "200": {
                        "description": "Dashboard statistics"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar order",
                "operationId": "38dbfcc9c8ca1dc1ea794f1e7143d9c1",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar order"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/manual": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Buat pesanan manual (offline/marketplace)",
                "operationId": "d2d4fff1a2412b4db4fb70c787aee4b4",
                "responses": {
                    "201": {
                        "description": "Pesanan manual berhasil dibuat"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Detail order untuk admin",
                "operationId": "d0ebbbb1b2a3aee324b8e64826b88b6c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail order"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}/verify-payment": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Verifikasi pembayaran dan alokasi batch",
                "operationId": "b5870a606a5c91804126c08682a883cf",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order dialokasikan"
                    },
                    "422": {
                        "description": "Status tidak valid"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}/product-codes": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Input atau perbarui kode produk untuk setiap item order",
                "operationId": "3dce2eeca290b3a891f1355ebfced529",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "items"
                                ],
                                "properties": {
                                    "items": {
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "order_item_id",
                                                "kode_produk"
                                            ],
                                            "properties": {
                                                "order_item_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "kode_produk": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "PROD-001"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Kode produk diperbarui"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi kode produk gagal atau order sudah dikirim"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}/ship": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Input resi pengiriman",
                "operationId": "eea77259753a8f087c41903ce5f50a04",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "resi"
                                ],
                                "properties": {
                                    "resi": {
                                        "type": "string",
                                        "example": "JNE123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order dikirim"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}/mark-delivered": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tandai pesanan sudah diterima pelanggan",
                "operationId": "0d6122a806eb85a4dc23dd851ed32d8e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order ditandai selesai"
                    },
                    "422": {
                        "description": "Status tidak valid untuk diselesaikan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/run-reservation-release": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Trigger job pelepasan reservasi stok",
                "operationId": "0ec56a69f859ee7d122106714082c48d",
                "responses": {
                    "200": {
                        "description": "Job dikirim ke antrean"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/run-tracking-sync": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Trigger sync tracking shipment untuk semua order yang perlu di-update",
                "operationId": "deef947bf398290ba1a6ca2fec390bab",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Maximum orders to sync (default: 50)",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "order_id",
                        "in": "query",
                        "description": "Sync specific order ID only",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Job sync tracking sudah dijalankan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/orders/{id}/cancel": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Batalkan pesanan oleh admin",
                "operationId": "27703945ed199c12a38d272c363be221",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan dibatalkan"
                    },
                    "422": {
                        "description": "Status tidak valid untuk dibatalkan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/users": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar semua users",
                "operationId": "9680ccebed17e49ff174b2a620cc0cd5",
                "parameters": [
                    {
                        "name": "role",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "admin",
                                "pelanggan"
                            ]
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar users"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Buat user baru",
                "operationId": "6dd1e6388d8abe912442f06cee8ebb4c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nama_lengkap",
                                    "username",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "nama_lengkap": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "username": {
                                        "type": "string",
                                        "example": "johndoe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8
                                    },
                                    "no_hp": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "pelanggan"
                                        ],
                                        "example": "pelanggan"
                                    },
                                    "province_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "province_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "city_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "district_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "district_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "subdistrict_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "subdistrict_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "alamat_lengkap": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User berhasil dibuat"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/users/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Detail user",
                "operationId": "96a5f01127fa460057178398a6ddb53b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail user"
                    },
                    "404": {
                        "description": "User tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update user",
                "operationId": "2255216aa7a93450befbfb0dd7dde469",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "nama_lengkap": {
                                        "type": "string"
                                    },
                                    "username": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8
                                    },
                                    "no_hp": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "admin",
                                            "pelanggan"
                                        ]
                                    },
                                    "province_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "province_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "city_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "city_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "district_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "district_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "subdistrict_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "subdistrict_name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "alamat_lengkap": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User berhasil diupdate"
                    },
                    "404": {
                        "description": "User tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus user",
                "operationId": "a42d951fbf6b2f8e25663e69c1b817d2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User berhasil dihapus"
                    },
                    "404": {
                        "description": "User tidak ditemukan"
                    },
                    "422": {
                        "description": "User tidak dapat dihapus karena memiliki pesanan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/price-tiers": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar harga tingkat global",
                "operationId": "bd2d5d3793fc5ac1d7d1316fe90280a6",
                "responses": {
                    "200": {
                        "description": "Daftar harga tingkat global"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tambah harga tingkat global baru",
                "operationId": "eb258e32afe4456bbefd93193dc9db72",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "min_jumlah",
                                    "harga_total"
                                ],
                                "properties": {
                                    "min_jumlah": {
                                        "type": "integer"
                                    },
                                    "max_jumlah": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "harga_total": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "label": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Harga tingkat global berhasil ditambahkan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/price-tiers/{id}": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Perbarui harga tingkat global",
                "operationId": "9fd84271f194d04a625ddb0db755a06f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "min_jumlah",
                                    "harga_total"
                                ],
                                "properties": {
                                    "min_jumlah": {
                                        "type": "integer"
                                    },
                                    "max_jumlah": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "harga_total": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "label": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Harga tingkat global berhasil diperbarui"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus harga tingkat global",
                "operationId": "1966f3fc0657efc526440f46e6becf2b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Harga tingkat global berhasil dihapus"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/packs": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar paket langsung dari produk (tanpa variant)",
                "operationId": "b61d12fcd9c1f035a2dbf46596a45a77",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar paket produk"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tambah paket langsung dari produk",
                "operationId": "6feffdac1c7c695a673ffd8448b6f5cf",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "pack_size"
                                ],
                                "properties": {
                                    "label": {
                                        "type": "string"
                                    },
                                    "pack_size": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "harga_pack": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Paket produk dibuat"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/packs/{packId}": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Perbarui paket produk",
                "operationId": "97cf27cbf6f1a5fb08bb93961257be55",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "packId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "label": {
                                        "type": "string"
                                    },
                                    "pack_size": {
                                        "type": "integer"
                                    },
                                    "harga_pack": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Paket produk diperbarui"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus paket produk",
                "operationId": "07c96545c45e3f0eeb1585c481022074",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "packId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paket produk dihapus"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/variants": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar varian produk",
                "operationId": "fb90d65e28cd39cc8f66a0f468c3a37c",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar varian produk"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tambah varian produk baru",
                "operationId": "0d82061c82e21245560965f1866cb2ee",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "tipe"
                                ],
                                "properties": {
                                    "tipe": {
                                        "type": "string",
                                        "example": "BP REGULER (dewasa)"
                                    },
                                    "sku_variant": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "stok": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "harga_ecer": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "gambar": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Varian produk berhasil dibuat"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/variants/{id}": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Detail varian produk",
                "operationId": "520d8d0f0d3fbaa12d1375797b4dd3af",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail varian produk"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Perbarui varian produk",
                "operationId": "ad492ca42da0fe8bd49fed5ce8f6a0e5",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "tipe": {
                                        "type": "string"
                                    },
                                    "sku_variant": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "stok": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "harga_ecer": {
                                        "type": "number",
                                        "format": "float",
                                        "nullable": true
                                    },
                                    "gambar": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ],
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Varian produk berhasil diperbarui"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus varian produk",
                "operationId": "91707b08f54d780230266fac873cc246",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Varian produk berhasil dihapus"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/variants/{id}/add-stock": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tambah stok varian produk",
                "operationId": "7bcc098483569e36cfd54bd7934f8109",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qty"
                                ],
                                "properties": {
                                    "qty": {
                                        "type": "integer",
                                        "example": 10
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Stok varian berhasil ditambahkan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/variants/{variantId}/packs": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar varian jumlah untuk varian produk tertentu",
                "operationId": "e93652d1a257d60e12cf4a090ef64557",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "variantId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar varian jumlah"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Tambah varian jumlah baru",
                "operationId": "fcc8025e72c61bb58228c6694414ee0d",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "variantId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "pack_size"
                                ],
                                "properties": {
                                    "label": {
                                        "type": "string"
                                    },
                                    "pack_size": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "harga_pack": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "stok": {
                                        "type": "integer"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Varian jumlah dibuat"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/products/{productId}/variants/{variantId}/packs/{packId}": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Perbarui varian jumlah",
                "operationId": "0ff49a36a9fc9d32f8c1ebfa177370af",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "variantId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "packId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "label": {
                                        "type": "string"
                                    },
                                    "pack_size": {
                                        "type": "integer"
                                    },
                                    "harga_pack": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Varian jumlah diperbarui"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus varian jumlah",
                "operationId": "8d8e75412815dc4181f2d0c8431a814e",
                "parameters": [
                    {
                        "name": "productId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "variantId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "packId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Varian jumlah dihapus"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/stock-movements": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Riwayat pergerakan stok",
                "operationId": "46fcc458530cd5b0b04fd783b8b56dc0",
                "parameters": [
                    {
                        "name": "product_id",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar pergerakan stok"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Registrasi akun baru",
                "operationId": "ed42f392010c301892e640067141676e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nama_lengkap",
                                    "username",
                                    "email",
                                    "password",
                                    "province_id",
                                    "province_name",
                                    "city_id",
                                    "city_name",
                                    "district_id",
                                    "district_name",
                                    "subdistrict_id",
                                    "subdistrict_name",
                                    "postal_code",
                                    "alamat_lengkap"
                                ],
                                "properties": {
                                    "nama_lengkap": {
                                        "type": "string",
                                        "example": "Jane Doe"
                                    },
                                    "username": {
                                        "type": "string",
                                        "example": "jane"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8
                                    },
                                    "no_hp": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "pelanggan"
                                        ],
                                        "example": "pelanggan"
                                    },
                                    "province_id": {
                                        "type": "integer"
                                    },
                                    "province_name": {
                                        "type": "string"
                                    },
                                    "city_id": {
                                        "type": "integer"
                                    },
                                    "city_name": {
                                        "type": "string"
                                    },
                                    "district_id": {
                                        "type": "integer"
                                    },
                                    "district_name": {
                                        "type": "string"
                                    },
                                    "subdistrict_id": {
                                        "type": "integer"
                                    },
                                    "subdistrict_name": {
                                        "type": "string"
                                    },
                                    "postal_code": {
                                        "type": "string",
                                        "example": "40123"
                                    },
                                    "alamat_lengkap": {
                                        "type": "string",
                                        "example": "Jl. Mawar no 1"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Registrasi berhasil"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login dan mendapatkan token",
                "operationId": "8cb7742ae98d0990acb2907c4e00bf24",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login berhasil"
                    },
                    "401": {
                        "description": "Kredensial salah"
                    }
                }
            }
        },
        "/auth/profile": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Mendapatkan informasi profil user",
                "operationId": "19ebac4c2899c32cfe90402c3781e2e6",
                "responses": {
                    "200": {
                        "description": "Data profil user"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Auth"
                ],
                "summary": "Update profil user",
                "operationId": "b94c6da5a01ce99b401b644226460853",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "username": {
                                        "type": "string"
                                    },
                                    "nama_lengkap": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "no_hp": {
                                        "type": "string"
                                    },
                                    "province_id": {
                                        "type": "integer"
                                    },
                                    "city_id": {
                                        "type": "integer"
                                    },
                                    "district_id": {
                                        "type": "integer"
                                    },
                                    "subdistrict_id": {
                                        "type": "integer"
                                    },
                                    "postal_code": {
                                        "type": "string"
                                    },
                                    "alamat_lengkap": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Profil berhasil diupdate"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout dan revoke token",
                "operationId": "0d29c740dc06d77602af8095bf4654cc",
                "responses": {
                    "200": {
                        "description": "Logout berhasil"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/cart": {
            "get": {
                "tags": [
                    "Cart"
                ],
                "summary": "Daftar item di keranjang",
                "operationId": "294e093bf29c111c01d8402121fb4f43",
                "responses": {
                    "200": {
                        "description": "Daftar item keranjang"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Cart"
                ],
                "summary": "Tambah item ke keranjang",
                "operationId": "17edc07162b12ee962c37746abcf34a5",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "product_id",
                                    "qty"
                                ],
                                "properties": {
                                    "product_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "qty": {
                                        "type": "integer",
                                        "minimum": 1,
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Item berhasil ditambahkan ke keranjang"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Cart"
                ],
                "summary": "Kosongkan keranjang",
                "operationId": "f377929d0e996a1c3f953864f92433ce",
                "responses": {
                    "200": {
                        "description": "Keranjang berhasil dikosongkan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/cart/{id}": {
            "put": {
                "tags": [
                    "Cart"
                ],
                "summary": "Update jumlah item di keranjang",
                "operationId": "cbc70cb27e37c57b77e0a05fac484f9e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qty"
                                ],
                                "properties": {
                                    "qty": {
                                        "type": "integer",
                                        "minimum": 1,
                                        "example": 3
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Item berhasil diupdate"
                    },
                    "404": {
                        "description": "Item tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Cart"
                ],
                "summary": "Hapus item dari keranjang",
                "operationId": "3ed420e11c37f91b6708201df0a9f073",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Item berhasil dihapus"
                    },
                    "404": {
                        "description": "Item tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/categories": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Daftar semua kategori",
                "operationId": "6072ee0d4f01268ba84981a78e569980",
                "responses": {
                    "200": {
                        "description": "Daftar kategori"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Buat kategori baru",
                "operationId": "fd033ad238d9b6ffbb7a3552dfea158b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nama_kategori"
                                ],
                                "properties": {
                                    "nama_kategori": {
                                        "type": "string",
                                        "example": "Kategori Baru"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Kategori berhasil dibuat"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/categories/{id}": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Update kategori",
                "operationId": "78fd86c3f981b7d13128038646827438",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "nama_kategori"
                                ],
                                "properties": {
                                    "nama_kategori": {
                                        "type": "string",
                                        "example": "Kategori Updated"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Kategori berhasil diupdate"
                    },
                    "404": {
                        "description": "Kategori tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Hapus kategori",
                "operationId": "1dda5aaba5a792b98fec7d365d7c72b0",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Kategori berhasil dihapus"
                    },
                    "404": {
                        "description": "Kategori tidak ditemukan"
                    },
                    "422": {
                        "description": "Kategori tidak dapat dihapus karena masih memiliki produk"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/checkout": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Checkout dan reservasi batch",
                "operationId": "b629ac636c824c74693d0dd05aa6b31b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CheckoutRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order berhasil dibuat"
                    },
                    "401": {
                        "description": "Tidak terautentikasi"
                    },
                    "422": {
                        "description": "Stok tidak mencukupi"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/forgot-password": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Kirim link reset password",
                "operationId": "f7e3e5abbeac5d3c9b229e00871a01af",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Link reset password terkirim"
                    },
                    "404": {
                        "description": "Email tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                }
            }
        },
        "/auth/reset-password": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Reset password dengan token",
                "operationId": "719ce108f6cdfb5b5ed622868ec8c764",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "token",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "token": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password berhasil direset"
                    },
                    "422": {
                        "description": "Token tidak valid atau expired"
                    }
                }
            }
        },
        "/orders/me": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Daftar order milik pengguna saat ini",
                "operationId": "e7ab30e45520a4a4dc38bb6ffd4dbc2a",
                "responses": {
                    "200": {
                        "description": "Daftar order"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/orders/{id}": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Detail order milik pelanggan",
                "operationId": "f088d34a2737782215f435f854e31de5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail order beserta alokasi batch"
                    },
                    "403": {
                        "description": "Tidak berhak mengakses order ini"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/orders/{id}/confirm-delivery": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Konfirmasi pesanan sudah diterima pelanggan",
                "operationId": "8443c77944c1cfdb476f30f932261a45",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan ditandai selesai"
                    },
                    "403": {
                        "description": "Tidak berhak mengubah order ini"
                    },
                    "422": {
                        "description": "Status order tidak valid"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/orders/{id}/expire": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Tandai pesanan sebagai expired",
                "description": "Mengubah status pesanan menjadi 'expired' jika sudah lebih dari 1 jam dari waktu order dibuat. Hanya untuk pesanan dengan status 'belum_dibayar'.",
                "operationId": "10eebb7472bc09adcf7fa60043bacc1c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID pesanan yang akan ditandai expired",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan ditandai expired",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Data pesanan yang telah expired",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Pesanan telah ditandai sebagai kadaluwarsa."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Tidak berhak mengubah order ini"
                    },
                    "422": {
                        "description": "Status order tidak valid atau waktu pembayaran belum habis"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/orders/{id}/cancel": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Batalkan pesanan",
                "description": "Membatalkan pesanan dengan status 'belum_dibayar' atau 'menunggu_konfirmasi'. Otomatis melepas reservasi/allokasi batch dan mengembalikan stok. Pesanan yang sudah expired tidak dapat dibatalkan.",
                "operationId": "f01ac571088d34f82562b3d48911f6f4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID pesanan yang akan dibatalkan",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan berhasil dibatalkan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Data pesanan yang telah dibatalkan",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Pesanan berhasil dibatalkan."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Tidak berhak mengubah order ini"
                    },
                    "422": {
                        "description": "Status order tidak dapat dibatalkan atau ID pesanan tidak valid"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/orders/{id}/upload-proof": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Upload bukti pembayaran",
                "operationId": "411db1287f08c3903f826f0782f27596",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "bukti"
                                ],
                                "properties": {
                                    "bukti": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Bukti pembayaran tersimpan"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    },
                    "422": {
                        "description": "Order sudah expired/dibatalkan atau tidak dapat menerima bukti pembayaran"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/products": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Daftar produk",
                "operationId": "c1ff6f862214e1896c59cfe0491ce0e8",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter status produk (aktif/nonaktif)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "kategori_id",
                        "in": "query",
                        "description": "Filter berdasarkan kategori",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Jumlah item per halaman",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Berhasil memuat produk",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Products"
                ],
                "summary": "Tambah produk baru",
                "operationId": "399770d33fa4672f1216707d0e236763",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "kategori_id",
                                    "sku",
                                    "nama_produk",
                                    "harga_ecer",
                                    "status"
                                ],
                                "properties": {
                                    "kategori_id": {
                                        "type": "integer"
                                    },
                                    "sku": {
                                        "type": "string"
                                    },
                                    "nama_produk": {
                                        "type": "string"
                                    },
                                    "tipe": {
                                        "description": "Tipe/varian produk (contoh: BP REGULER, BP KIDS, BP BLUE)",
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "deskripsi": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "harga_ecer": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "stok": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "gambar": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "berat": {
                                        "description": "Berat produk dalam gram",
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Produk berhasil dibuat"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/categories": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Daftar kategori",
                "operationId": "e806570640fd75ab000b98822312edee",
                "responses": {
                    "200": {
                        "description": "Berhasil memuat kategori",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/products/{id}": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Detail produk",
                "operationId": "b46f4aa73232d0368eee698a082342a4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detail produk beserta harga tingkat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Products"
                ],
                "summary": "Perbarui produk",
                "operationId": "1419d479f9340e30e67fe21a2ca525b7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "kategori_id": {
                                        "type": "integer"
                                    },
                                    "sku": {
                                        "type": "string"
                                    },
                                    "nama_produk": {
                                        "type": "string"
                                    },
                                    "tipe": {
                                        "description": "Tipe/varian produk (contoh: BP REGULER, BP KIDS, BP BLUE)",
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "deskripsi": {
                                        "type": "string"
                                    },
                                    "harga_ecer": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "stok": {
                                        "type": "integer"
                                    },
                                    "gambar": {
                                        "type": "string"
                                    },
                                    "berat": {
                                        "description": "Berat produk dalam gram",
                                        "type": "integer"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "aktif",
                                            "nonaktif"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Produk diperbarui"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Products"
                ],
                "summary": "Hapus produk",
                "operationId": "fe34b364a3f192305598b65d04d06b5d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Produk dihapus"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/products/{id}/add-stock": {
            "post": {
                "tags": [
                    "Products"
                ],
                "summary": "Tambah stok produk",
                "operationId": "9cf3c6aa07f1d5d78fb106bfe773aac2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qty"
                                ],
                                "properties": {
                                    "qty": {
                                        "description": "Jumlah stok yang ditambahkan (bisa negatif untuk mengurangi)",
                                        "type": "integer",
                                        "example": 10
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Stok berhasil ditambahkan"
                    },
                    "404": {
                        "description": "Produk tidak ditemukan"
                    },
                    "422": {
                        "description": "Validasi gagal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/admin/low-stock-products": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Daftar produk dengan stok rendah",
                "operationId": "aa8515d8d0a18847c67fe1e8a53cfa38",
                "parameters": [
                    {
                        "name": "threshold",
                        "in": "query",
                        "description": "Ambang batas stok tersedia",
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Jumlah maksimum produk yang dikembalikan (maks 50)",
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Berhasil memuat produk dengan stok rendah"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/stock": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Laporan stok produk",
                "operationId": "805ecd0c2cc408d5a40a2f21c1875bc0",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar stok produk"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/sales-detail": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Laporan detail penjualan",
                "operationId": "98fce4d66aa10e000c6a7a5c3aa40e7c",
                "parameters": [
                    {
                        "name": "from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "channel",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar penjualan detail"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/sales-trend": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Ringkasan tren penjualan",
                "operationId": "b1a5c1f579ed7874e7fa7f17b2e85573",
                "parameters": [
                    {
                        "name": "from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "interval",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "daily",
                                "weekly"
                            ]
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "channel",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Daftar titik tren"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/export/stock-movements": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Ekspor riwayat stok (CSV)",
                "operationId": "3969fe1a70402281bef75be782ffcf5e",
                "parameters": [
                    {
                        "name": "month",
                        "in": "query",
                        "description": "Format Y-m, misal 2025-08",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "start_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "product_ids[]",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File CSV berisi ringkasan stok"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/stock-history": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Riwayat stok per produk per periode",
                "operationId": "8f5c6b00b68c360ae4e9326b4130c278",
                "parameters": [
                    {
                        "name": "start_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "interval",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "daily",
                                "weekly",
                                "monthly"
                            ]
                        }
                    },
                    {
                        "name": "product_ids[]",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Matriks stok per tanggal"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/reports/export/stock-history": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Ekspor riwayat stok seperti spreadsheet (CSV)",
                "operationId": "8709f26fb6fca837e8d5f60e1488316d",
                "parameters": [
                    {
                        "name": "start_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "interval",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "daily",
                                "weekly",
                                "monthly"
                            ]
                        }
                    },
                    {
                        "name": "product_ids[]",
                        "in": "query",
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "File CSV riwayat stok"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/shipping/provinces": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Daftar provinsi tujuan",
                "operationId": "94bf4900ed99f22a03660236f1e9271e",
                "responses": {
                    "200": {
                        "description": "Data provinsi"
                    }
                }
            }
        },
        "/shipping/cities/{province_id}": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Daftar kota/kabupaten",
                "operationId": "5bf77f2968a11db420cab8ae9c443878",
                "parameters": [
                    {
                        "name": "province_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data kota/kabupaten"
                    }
                }
            }
        },
        "/shipping/districts/{city_id}": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Daftar kecamatan",
                "operationId": "b610fb9b2348793a34d5f9480a318c4d",
                "parameters": [
                    {
                        "name": "city_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data kecamatan"
                    }
                }
            }
        },
        "/shipping/subdistricts/{district_id}": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Daftar kelurahan",
                "operationId": "6ba73dae38e5a906c8ac83006e716069",
                "parameters": [
                    {
                        "name": "district_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Data kelurahan"
                    }
                }
            }
        },
        "/shipping/cost": {
            "post": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Hitung biaya pengiriman",
                "operationId": "8dd9fe8f5417df50aa89d2b1c0299263",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "weight",
                                    "courier"
                                ],
                                "properties": {
                                    "origin": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "destination": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "origin_district_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "destination_district_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "weight": {
                                        "description": "Dalam gram",
                                        "type": "integer"
                                    },
                                    "courier": {
                                        "type": "string",
                                        "example": "jne"
                                    },
                                    "price": {
                                        "type": "string",
                                        "example": "lowest"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Daftar layanan & biaya"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "CheckoutItem": {
                "required": [
                    "product_id",
                    "jumlah"
                ],
                "properties": {
                    "product_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "jumlah": {
                        "type": "integer",
                        "example": 3
                    },
                    "harga_tingkat_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "catatan": {
                        "type": "string",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "CheckoutRequest": {
                "required": [
                    "metode_pembayaran",
                    "items"
                ],
                "properties": {
                    "courier": {
                        "type": "string",
                        "example": "jne"
                    },
                    "courier_service": {
                        "type": "string",
                        "example": "REG"
                    },
                    "origin_city_id": {
                        "type": "integer",
                        "example": 149
                    },
                    "destination_city_id": {
                        "description": "Isi jika ingin override alamat default pengguna",
                        "type": "integer",
                        "example": 501,
                        "nullable": true
                    },
                    "destination_district_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "destination_subdistrict_id": {
                        "type": "integer",
                        "nullable": true
                    },
                    "address": {
                        "type": "string",
                        "example": "Jl. Mawar no 1"
                    },
                    "phone": {
                        "type": "string",
                        "example": "628123456789"
                    },
                    "metode_pembayaran": {
                        "type": "string",
                        "enum": [
                            "BCA",
                            "BSI",
                            "gopay",
                            "dana",
                            "transfer_manual"
                        ]
                    },
                    "ongkos_kirim": {
                        "type": "number",
                        "format": "float",
                        "example": 20000
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/CheckoutItem"
                        }
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "Token",
                "description": "Masukkan token Sanctum dengan format \"Bearer {token}\"."
            }
        }
    },
    "tags": [
        {
            "name": "Products",
            "description": "Katalog produk dan stok batch."
        },
        {
            "name": "Shipping",
            "description": "Integrasi RajaOngkir."
        },
        {
            "name": "Orders",
            "description": "Checkout & order pelanggan."
        },
        {
            "name": "Admin",
            "description": "Operasi administratif."
        },
        {
            "name": "Auth",
            "description": "Registrasi, login, logout."
        },
        {
            "name": "Cart",
            "description": "Cart"
        },
        {
            "name": "Reports",
            "description": "Reports"
        }
    ],
    "security": [
        {
            "sanctum": []
        }
    ]
}